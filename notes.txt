& "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.8_3.8.2800.0_x64__qbz5n2kfra8p0\python3.8.exe" -m venv .venv
.venv\Scripts\activate  

curiousscanner/
â”œâ”€â”€ app.py                â† Streamlit app
â”œâ”€â”€ utils.py              â† Core logic
â”œâ”€â”€ corrections_log.json  â† Stores corrections
â””â”€â”€ sample_id_card.jpg    â† (Optional sample image)


pip install streamlit opencv-python pytesseract pillow
streamlit run app.py


curiousscanner/
â”œâ”€â”€ app.py
â”œâ”€â”€ utils.py
â”œâ”€â”€ corrections_log.json
â”œâ”€â”€ generate_spacy_data.py   â† [STEP 1]
â”œâ”€â”€ config.cfg               â† [STEP 2]
â”œâ”€â”€ training_data.spacy      â† [STEP 1 Output]
â”œâ”€â”€ ner_model/               â† [STEP 3 Output]


python generate_spacy_data.py
python -m spacy train config.cfg --output ner_model
python -m spacy evaluate ner_model/model-best training_data.spacy


User uploads â†’ OCR â†’ Predict doc_type â†’ Parse fields (NER) â†’ User corrects â†’ Save â†’ Model updated or retrained











ğŸ§ª âœ… How to Test the Full Flow
Hereâ€™s your step-by-step execution checklist:

ğŸ”§ 1. âœ… (Optional) Clean Start
If you're testing from scratch:


del classifier_model.pkl
del training_*.spacy
rd /s /q ner_model
ğŸ“¦ 2. âœ… Train the Document Type Classifier

python document_classifier.py
This reads from corrections_log.json and creates:


classifier_model.pkl
âœ… Make sure it prints:
[ok] Retrained document classifier with X samples.

ğŸ§  3. âœ… Train All NER Models by Document Type

python generate_spacy_data.py
This will:

Create files like training_student.spacy, training_employee.spacy, etc.

Train models into ner_model/student/model-best, ner_model/employee/model-best, etc.

âœ… Output should include:

[ok] Saved training data: training_student.spacy
[ok] Model for 'student' saved to: ner_model/student
ğŸš€ 4. âœ… Run the App

streamlit run app.py
Then in your browser:

Upload an ID card, invoice, etc.

Watch the detected type

See parsed fields

Make corrections

Click âœ… Save Correction

âœ… Should:

Show detected doc_type

Show extracted fields

Save correction in corrections_log.json

Apply online update and save updated model to:
ner_model/<doc_type>/model-best

ğŸ” 5. âœ… Test Retrain Button
Click ğŸš€ Retrain Now in the UI.

âœ… It should:

Regenerate .spacy training files

Retrain models per doc_type

Output updated stats

Show last used correction

Plot reward trend